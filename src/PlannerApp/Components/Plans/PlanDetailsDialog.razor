@namespace PlannerApp.Components
<MudDialog>
   <TitleContent>
			@if (_isBusy)	{
					<MudText Typo="Typo.h6">Loading plan details ... </MudText>
			}
			else	{
					<MudText Typo="Typo.h6">_plan?.Title</MudText>
			}
	
	</TitleContent>
    <DialogContent>
        <MudGrid>
            <MudItem sm="12" md="6">
                <!-- Utilizar un skeleton mientras aun está cargando -->
                @if (_isBusy)  {
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px"/>
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px"/>
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px"/>
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px"/>
                    <MudSkeleton Animation="Animation.Wave" SkeletonType="SkeletonType.Text" Style="min-width:250px"/>
                }
                else  {
                    <!-- Plan details obsoleto -->
@*                    <img style="width:100%;border-radius:5px" src="@_plan.CoverUrl" />
                    <MudText Typo="Typo.h5">@_plan?.Title</MudText>
                    <MudText Typo="Typo.body1">@_plan?.Description</MudText>
                    <MudText Typo="Typo.body1">@_plan?.Description</MudText>                    
*@                
                    <!-- Plan's items go here -->
                    // OnToDoItemAddedCallback devolución del elemento agregado para que se acabe de procesar en el padre
                    // que es donde estamos
					<CreateToDoItemForm PlanId="@PlanId" OnToDoItemAdded="OnToDoItemAddedCallback" />
					@foreach(var item in _items) 	{
						<ToDoItem Item="item" OnItemDeleted="OnToDoItemDeletedCallback" />
					}                
                }
            </MudItem>
        </MudGrid>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Close">Close</MudButton>
    </DialogActions>
</MudDialog>
